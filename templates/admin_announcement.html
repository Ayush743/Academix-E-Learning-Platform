{% extends 'admin_base.html' %} {% block content %}

<div class="max-w-4xl mx-auto mt-10 bg-white shadow-2xl rounded-3xl p-10">
  <h2
    class="text-4xl font-bold text-center bg-gradient-to-r from-purple-500 to-purple-700 text-white py-4 rounded-2xl shadow-md mb-10"
  >
    Create Announcement
  </h2>

  <form method="POST" class="space-y-6">
    {% csrf_token %}

    <!-- Branch, Section, Subject -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div>
        <label class="block mb-1 font-medium text-purple-700"
          >Target Group</label
        >
        <select
          name="target_group"
          class="w-full px-4 py-2 border border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-400"
        >
          <option value="">All</option>
          <option value="student">Students</option>
          <option value="teacher">Teachers</option>
        </select>
      </div>
      <div>
        <label class="block mb-1 font-medium text-purple-700">Branch</label>
        <select
          name="branch"
          class="w-full px-4 py-2 border border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-400"
        >
          <option value="">All Branches</option>
          <option value="Computer Science">Computer Science</option>
          <option value="Electrical">Electrical</option>
          <option value="Mechanical">Mechanical</option>
          <option value="Electronics">Electronics</option>
          <option value="Biotech">Biotech</option>
          <option value="B.Pharmacy">B.Pharmacy</option>
        </select>
      </div>

      <div>
        <label class="block mb-1 font-medium text-purple-700">Section</label>
        <select
          name="section"
          class="w-full px-4 py-2 border border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-400"
        >
          <option value="">All Sections</option>
          <option value="A">A</option>
          <option value="B">B</option>
          <option value="C">C</option>
          <option value="D">D</option>
        </select>
      </div>

      <div>
        <label class="block mb-1 font-medium text-purple-700">Subject</label>
        <select
          name="subject"
          class="w-full px-4 py-2 border border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-400"
        >
          <option value="">-- Select Subject --</option>

          <optgroup label="Computer Science & Engineering">
            <option value="Data Structures">Data Structures</option>
            <option value="Algorithms">Algorithms</option>
            <option value="Operating Systems">Operating Systems</option>
            <option value="Database Management Systems">
              Database Management Systems
            </option>
            <option value="Computer Networks">Computer Networks</option>
            <option value="Artificial Intelligence">
              Artificial Intelligence
            </option>
            <option value="Machine Learning">Machine Learning</option>
            <option value="Web Development">Web Development</option>
            <option value="Software Engineering">Software Engineering</option>
          </optgroup>

          <optgroup label="Electronics & Communication Engineering">
            <option value="Digital Electronics">Digital Electronics</option>
            <option value="Analog Circuits">Analog Circuits</option>
            <option value="Microprocessors">Microprocessors</option>
            <option value="VLSI Design">VLSI Design</option>
            <option value="Signals and Systems">Signals and Systems</option>
            <option value="Communication Systems">Communication Systems</option>
            <option value="Embedded Systems">Embedded Systems</option>
          </optgroup>

          <optgroup label="Electrical Engineering">
            <option value="Power Systems">Power Systems</option>
            <option value="Control Systems">Control Systems</option>
            <option value="Electrical Machines">Electrical Machines</option>
            <option value="Power Electronics">Power Electronics</option>
            <option value="Measurements and Instrumentation">
              Measurements and Instrumentation
            </option>
          </optgroup>

          <optgroup label="Mechanical Engineering">
            <option value="Thermodynamics">Thermodynamics</option>
            <option value="Fluid Mechanics">Fluid Mechanics</option>
            <option value="Heat Transfer">Heat Transfer</option>
            <option value="Engineering Mechanics">Engineering Mechanics</option>
            <option value="Strength of Materials">Strength of Materials</option>
            <option value="Machine Design">Machine Design</option>
            <option value="Manufacturing Processes">
              Manufacturing Processes
            </option>
          </optgroup>

          <optgroup label="Civil Engineering">
            <option value="Structural Analysis">Structural Analysis</option>
            <option value="Geotechnical Engineering">
              Geotechnical Engineering
            </option>
            <option value="Transportation Engineering">
              Transportation Engineering
            </option>
            <option value="Environmental Engineering">
              Environmental Engineering
            </option>
            <option value="Surveying">Surveying</option>
            <option value="Concrete Technology">Concrete Technology</option>
          </optgroup>

          <optgroup label="Information Technology">
            <option value="Data Mining">Data Mining</option>
            <option value="Cloud Computing">Cloud Computing</option>
            <option value="Computer Security">Computer Security</option>
            <option value="Human-Computer Interaction">
              Human-Computer Interaction
            </option>
            <option value="Mobile Computing">Mobile Computing</option>
          </optgroup>
        </select>
      </div>
    </div>

    <!-- Search Specific User -->
    <div>
      <label class="block mb-1 font-medium text-purple-700"
        >Send to Specific User (Name/Email)</label
      >
      <div class="flex gap-2">
        <input
          type="text"
          name="target_user"
          placeholder="Search by name or email..."
          class="w-full px-4 py-2 border border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-400"
        />
      </div>
    </div>

    <!-- Announcement Title -->
    <div>
      <label class="block mb-1 font-medium text-purple-700">Title</label>
      <input
        type="text"
        name="title"
        required
        placeholder="Enter announcement title"
        class="w-full px-4 py-2 border border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-400"
      />
    </div>

    <!-- Announcement Message -->
    <div>
      <label class="block mb-1 font-medium text-purple-700">Message</label>
      <textarea
        name="desc"
        rows="5"
        required
        placeholder="Type your announcement message..."
        class="w-full px-4 py-3 border border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-400"
      ></textarea>
    </div>

    <!-- Submit Button -->
    <div class="text-center">
      <button
        type="submit"
        class="bg-gradient-to-r from-purple-600 to-purple-800 text-white px-8 py-3 rounded-2xl shadow-lg hover:scale-105 transition"
      >
        Send Announcement
      </button>
    </div>
  </form>
</div>
<div class="max-w-5xl mx-auto mt-12 space-y-6">
  <h3 class="text-3xl font-bold text-purple-700 mb-6 text-center">
    Recent Announcements
  </h3>
  {% for announcement in announcements %}
  <div class="bg-white shadow-lg rounded-xl p-6 border-l-4 border-purple-600">
    <h4 class="text-2xl font-semibold text-purple-800 mb-2">
      {{ announcement.title}}
    </h4>
    <p class="text-gray-700 mb-4">{{ announcement.desc}}</p>
    <div class="flex justify-between text-sm text-gray-500">
      <span>By <strong>{{announcement.created_by.name }}</strong></span>
      <span> <strong>{{announcement.created_by.email }}</strong></span>
      <span>{{ announcement.created_at|date:"F j, Y, g:i a" }}</span>
    </div>
  </div>
  {% empty %}
  <p class="text-center text-gray-500">No announcements found.</p>
  {% endfor %}
</div>

{% endblock %}
